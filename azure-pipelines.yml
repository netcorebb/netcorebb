trigger:
  - master
  - dev

variables:
  buildConfiguration: 'Release'

strategy:
  matrix:
    Windows:
      imageName: 'windows-latest'
    macOS:
      imageName: 'macos-latest'
    Ubuntu:
      imageName: 'ubuntu-latest'

pool:
  vmImage: 'windows-latest'

steps:
  - task: UseDotNet@2
    displayName: '.NET Core 3.1.x'
    inputs:
      version: '3.1.x'
      packageType: 'sdk'

  - task: DotNetCoreCLI@2
    displayName: 'Test $(buildConfiguration)'
    inputs:
      command: test
      projects: '*.Tests'
      arguments: '-c $(buildConfiguration)'
